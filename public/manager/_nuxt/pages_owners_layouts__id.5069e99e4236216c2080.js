webpackJsonp([20],{"+d0y":function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"term-form",attrs:{xs12:""}},[a("v-layout",{staticClass:"top-bar",attrs:{row:"",wrap:"","mb-3":""}},[a("v-flex",{staticClass:"btn-back pt-3",attrs:{xs4:""}},[a("v-tooltip",{attrs:{right:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",small:"",fab:"",to:t.to,"active-class":""},slot:"activator"},[a("v-icon",[t._v("reply")])],1),a("span",[t._v(t._s(t.$t("Back")))])],1)],1)],1),a("v-form",{model:{value:t.form.valid,callback:function(e){t.$set(t.form,"valid",e)},expression:"form.valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"hide-details":"",label:t.$t("Nome template"),box:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"hide-details":"",label:t.$t("Logo struttura"),box:""},model:{value:t.logo,callback:function(e){t.logo=e},expression:"logo"}})],1)],1),t._e(),t._e()],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"","mb-1":""}},[a("language-tab")],1)],1),a("v-card",{staticClass:"pa-3 mt-2"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"hide-details":"",label:t.$t("Oggetto"),box:""},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-text-field",{attrs:{"hide-details":"",label:t.$t("Html"),box:"","multi-line":"",rows:"10",textarea:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)],1)],1),a("back-to-top",{attrs:{visibleoffset:"100",right:"35px"}},[a("v-btn",{attrs:{color:"pink",dark:"",small:"",fixed:"",fab:"",disabled:!t.canSave}},[a("v-icon",[t._v("keyboard_arrow_up")])],1)],1)],1)},staticRenderFns:[]};e.a=o},"4Z5a":function(t,e,a){"use strict";var o=a("Dd8w"),s=a.n(o),r=a("NYxO");e.a={name:"LanguageTab",methods:s()({},Object(r.mapMutations)("layouts",["setTabLanguage"])),watch:{index:function(){var t=this.languages[this.index].id;this.setTabLanguage(t)}},data:function(){return{index:0}},computed:s()({},Object(r.mapState)("layouts",["ui"]),Object(r.mapState)("app",["languages"]))}},"5acS":function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("wysiwyg",{staticClass:"term-editor",attrs:{placeholder:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})},staticRenderFns:[]};e.a=o},CbUv:function(t,e,a){"use strict";var o=a("GuTw"),s=a("5acS");var r=function(t){a("IFwN")},n=a("VU/8")(o.a,s.a,!1,r,null,null);e.a=n.exports},"E/Wt":function(t,e,a){"use strict";var o=a("ekew"),s=a("zGGU");var r=function(t){a("JFre")},n=a("VU/8")(o.a,s.a,!1,r,null,null);e.a=n.exports},GuTw:function(t,e,a){"use strict";var o=a("Dd8w"),s=a.n(o),r=a("NYxO");e.a={name:"TermEditor",computed:s()({},Object(r.mapState)("terms",["ui"]),{text:{get:function(){return"test"},set:function(t){var e=this.ui.tabLanguage,a=this.index;this.$store.dispatch("terms/updateParagraph",{value:t,index:a,language:e})}}}),props:["index"]}},IFwN:function(t,e,a){var o=a("z8Og");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("1218e79e",o,!0,{sourceMap:!1})},IkLi:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".back-to-top-fade-enter-active,.back-to-top-fade-leave-active{-webkit-transition:opacity .7s;transition:opacity .7s}.back-to-top-fade-enter,.back-to-top-fade-leave-to{opacity:0}.vue-back-to-top{position:fixed;z-index:1000;cursor:pointer}.vue-back-to-top .default{width:160px;color:#fff;text-align:center;line-height:30px;background-color:#f5c85c;border-radius:3px}.vue-back-to-top .default span{color:#fff}",""])},JFre:function(t,e,a){var o=a("IkLi");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("b341ded6",o,!0,{sourceMap:!1})},P05i:function(t,e,a){"use strict";var o=a("Dd8w"),s=a.n(o),r=a("s7yB"),n=a("CbUv"),i=a("NYxO"),c=a("vJRe");e.a={name:"LayoutForm",components:{LanguageTab:r.a,LayoutEditor:n.a,BackToTop:c.a},methods:s()({},Object(i.mapActions)("layouts",["save"]),Object(i.mapMutations)("app",["setBurgerRight","setDrawerRight"]),{scrollTop:function(){window.scrollTo({top:0,behavior:"smooth"})},onSave:function(){var t=this;this.termIsDirty&&this.addHistory({action:"Term changes update",date:new Date,user:this.user,description:""}),this.$nextTick(this.$nuxt.$loading.start),this.save({data:this.$record,id:this.$record.uid}).then(function(e){return t.$router.push("/owners/terms"),e}).catch(function(){t.setFormSaving(!1)}).then(function(){return t.$nextTick(t.$nuxt.$loading.start)})}}),props:{to:{default:"/operators/owners"}},data:function(){return{statusChanged:!1,termIsDirty:!1,showConfigureDialog:!1}},computed:s()({},Object(i.mapState)("layouts",{layouUi:"ui"}),Object(i.mapState)("layouts",["$record","form"]),Object(i.mapGetters)("layouts",["isEditMode"]),Object(i.mapState)("auth",["user"]),Object(i.mapGetters)("auth",["canSave"]),Object(i.mapState)("app",["ui"]),{subject:{get:function(){return this.$store.getters["layouts/getSubject"]},set:function(t){this.$store.commit("layouts/setSubject",t)}},code:{get:function(){return this.$store.getters["layouts/getCode"]},set:function(t){this.$store.commit("layouts/setCode",t)}},logo:{get:function(){return this.$store.getters["layouts/getLogo"]},set:function(t){this.$store.commit("layouts/setLogo",t)}},text:{get:function(){return this.$store.getters["layouts/getText"]},set:function(t){this.$store.commit("layouts/setText",t)}}})}},Pd00:function(t,e,a){"use strict";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{column:""}},[e("v-toolbar",{staticClass:"elevation-2  grey lighten-2"},[e("v-toolbar-title",[this._v("\n\n            "+this._s(this.$t("Double-optin template"))+"\n            "),e("v-spacer"),e("span",{staticClass:"subheading"},[this._v(" "+this._s(this.structure.company))])],1)],1),e("v-card",{staticClass:"pa-3"},[e("v-layout",{attrs:{row:""}},[e("LayoutForm")],1)],1)],1)},staticRenderFns:[]};e.a=o},ekew:function(t,e,a){"use strict";e.a={name:"BackToTop",props:{text:{type:String,default:"Voltar ao topo"},visibleoffset:{type:[String,Number],default:600},right:{type:String,default:"30px"},bottom:{type:String,default:"40px"}},data:function(){return{visible:!1}},mounted:function(){window.smoothscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(window.smoothscroll),window.scrollTo(0,Math.floor(t-t/5)))},window.addEventListener("scroll",this.catchScroll)},destroyed:function(){window.removeEventListener("scroll",this.catchScroll)},methods:{catchScroll:function(){this.visible=window.pageYOffset>parseInt(this.visibleoffset)},backToTop:function(){window.smoothscroll()}}}},exdo:function(t,e,a){"use strict";var o=a("Dd8w"),s=a.n(o),r=a("Xxa5"),n=a.n(r),i=a("exGp"),c=a.n(i),l=a("go5r"),u=a("NYxO");e.a={components:{LayoutForm:l.a},fetch:function(){var t=c()(n.a.mark(function t(e){var a,o=e.store,s=e.params;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.id,t.next=3,o.dispatch("layouts/loadby",{id:a},{root:!0});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:s()({},Object(u.mapState)("layouts",["structure"])),props:[]}},go5r:function(t,e,a){"use strict";var o=a("P05i"),s=a("+d0y");var r=function(t){a("ogfJK")},n=a("VU/8")(o.a,s.a,!1,r,null,null);e.a=n.exports},kaIy:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tabs",{attrs:{right:"","show-arrows":""},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[a("v-tabs-slider",{attrs:{color:"grey"}}),t._l(t.languages,function(e,o){return[e.active?a("v-tab",{key:e.id},[t._v("\n            "+t._s(e.label)+"\n        ")]):t._e()]})],2)},staticRenderFns:[]};e.a=o},lVwA:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".term-form .top-bar{border-bottom:1px solid silver}.form-term-right-drawer .navigation-drawer__border{display:none;width:0}",""])},ogfJK:function(t,e,a){var o=a("lVwA");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("0700c692",o,!0,{sourceMap:!1})},s7yB:function(t,e,a){"use strict";var o=a("4Z5a"),s=a("kaIy"),r=a("VU/8")(o.a,s.a,!1,null,null,null);e.a=r.exports},v0xg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("exdo"),s=a("Pd00"),r=a("VU/8")(o.a,s.a,!1,null,null,null);e.default=r.exports},vJRe:function(t,e,a){"use strict";var o=a("E/Wt");o.a.install=function(t,e){t.component(o.a.name,o.a)},e.a=o.a},z8Og:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".term-editor{background:#fff}.term-editor .editr--content{font-size:13px;height:400px}",""])},zGGU:function(t,e,a){"use strict";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"back-to-top-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"vue-back-to-top",style:"bottom:"+this.bottom+";right:"+this.right+";",on:{click:this.backToTop}},[this._t("default",[e("div",{staticClass:"default"},[e("span",[this._v("\n          "+this._s(this.text)+"\n        ")])])])],2)])},staticRenderFns:[]};e.a=o}});